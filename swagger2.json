{"swagger":"2.0","info":{"description":"Secure APIs (`/api/**`) should be authorized with `Authorization` header (`Bearer --token--`),or you may got an `401 Unauthorized` response.<BR>API Changes can be found at <a href=https://bitbucket.org/rsenterpriseteam/data-center/src/master/src/main/resources/API_CHANGELOG.md>Bitbucket</a>","version":"2.6-SNAPSHOT","title":"DATA-CENTER RESTful API","contact":{"name":"Pluto Team","url":"http://www.emerson.com/","email":"XAECTRSPluto@emerson.com"}},"host":"localhost:9999","basePath":"/","tags":[{"name":"Auth","description":"鉴权管理"},{"name":"Energy","description":"能耗参数记录"},{"name":"Inventory","description":"门店管理"},{"name":"Log Record","description":"能耗参数记录"},{"name":"Store Management","description":"门店管理"}],"paths":{"/api/logs/energy/{siteId}":{"get":{"tags":["Energy","Log Record"],"summary":"获得门店能耗历史数据","description":"按照门店`id`，开始时间和结束时间获得能耗设备历史数据","operationId":"retrieveEnergyLogsUsingGET","produces":["application/json"],"parameters":[{"name":"siteId","in":"path","description":"门店`id`","required":true,"type":"integer","format":"int64"},{"name":"start","in":"query","description":"开始时间","required":true,"type":"integer","format":"int64"},{"name":"end","in":"query","description":"结束时间","required":false,"type":"integer","format":"int64"},{"name":"energyType","in":"query","description":"能耗实例类型(P为电表，W为水表)","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/能耗实例耗能记录"}}},"204":{"description":"No Content"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"412":{"description":"Precondition Failed, eg. User account has expired"},"500":{"description":"Internal Server Error"}}}},"/api/stores":{"get":{"tags":["Inventory","Store Management"],"summary":"获取门店列表","description":"获取用户权限内所有门店列表","operationId":"getStoresUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/门店"}}},"204":{"description":"No Content"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"412":{"description":"Precondition Failed, eg. User account has expired"},"500":{"description":"Internal Server Error"}}}},"/auth":{"post":{"tags":["Auth"],"summary":"用户鉴权","description":"用户鉴权,鉴权成功返回`token`","operationId":"authUsingPOST","consumes":["application/x-www-form-urlencoded"],"produces":["application/json"],"parameters":[{"name":"username","in":"formData","description":"用户名","required":true,"type":"string"},{"name":"password","in":"formData","description":"密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Token"}},"204":{"description":"No Content"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"412":{"description":"Precondition Failed, eg. User account has expired"},"500":{"description":"Internal Server Error"}}}}},"definitions":{"Token":{"type":"object","properties":{"access_token":{"type":"string","description":"访问Token","allowEmptyValue":false},"expires_in":{"type":"integer","format":"int64","description":"Token过期时间（秒）","allowEmptyValue":false},"refresh_token":{"type":"string","description":"刷新Token，当访问Token过期时，用来刷新（暂未实现）","allowEmptyValue":false},"token_type":{"type":"string","description":"Token类型","allowEmptyValue":false,"enum":["bearer"]}},"title":"Token"},"参数记录":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int64","description":"时间戳","allowEmptyValue":false},"value":{"type":"string","description":"值","allowEmptyValue":false}},"title":"参数记录"},"多参数记录":{"type":"object","properties":{"needResend":{"type":"boolean"},"pointId":{"type":"integer","format":"int64","description":"参数`id`","allowEmptyValue":false},"records":{"type":"array","description":"参数记录列表","allowEmptyValue":false,"items":{"$ref":"#/definitions/参数记录"}},"unit":{"type":"string","description":"参数记录值的单位, DIGITAL二值用“/”分隔，例如（On/Off)；其他的是字符串，例如：‘KWH’、‘ºC’","allowEmptyValue":false}},"title":"多参数记录"},"能耗实例耗能记录":{"type":"object","properties":{"energyName":{"type":"string","description":"能耗实例名称","allowEmptyValue":false},"energyType":{"type":"string","description":"能耗实例类型(P为电表，W为水表)","allowEmptyValue":false,"enum":["P","W"]},"log":{"$ref":"#/definitions/多参数记录"}},"title":"能耗实例耗能记录","description":"能耗实例耗能记录"},"门店":{"type":"object","properties":{"address":{"type":"string","description":"街道地址（例如：`锦业一路34号软件园H座`）","allowEmptyValue":false},"alarmReceivingIssue":{"type":"boolean"},"contact":{"type":"string","description":"联系电话","allowEmptyValue":false},"dataAcquisitionIssue":{"type":"boolean"},"dirId":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"manager":{"type":"string","description":"门店经理","allowEmptyValue":false},"name":{"type":"string","description":"门店名称","allowEmptyValue":false},"parentDirNames":{"type":"array","items":{"type":"string"}},"region":{"type":"string","description":"所在区域（格式为`省 市 区`，以空格分隔，例如：`陕西省 西安市 雁塔区`）","allowEmptyValue":false},"smDirId":{"type":"integer","format":"int64"},"storeNumber":{"type":"string","description":"门店编号","allowEmptyValue":false},"type":{"type":"string"}},"title":"门店"}}}
